!function(a){({init:function(){this._validationJS(),this._slider(),this._search(),this._dropDown(),this._fixedHeader(),this._lineHeight(),this._lightbox(),this._print(),this._animate(),this._select2(),this._audio()},_audio:function(){a("#audio_player").on("click",function(){"audio_player"==a(this).attr("id")?(audio.play(),a(this).attr("id","audio_pause")):(audio.pause(),a(this).attr("id","audio_player"))})},_select2:function(){a(".select-country").length&&a(".select-country").select2({minimumResultsForSearch:1/0,theme:"select-country"}),a("select.form-filter").length&&a("select.form-filter").select2({minimumResultsForSearch:1/0,width:"100%"})},_print:function(){a(".icon-print").on("click",function(e){e.preventDefault(),window.print()})},_lightbox:function(){a(".b-sidebar__thumb").length&&(a(".b-sidebar__thumb").on("click",function(){a(".lightbox-carousel__popup").addClass("is-show"),a(".lightbox-carousel").length&&1<a(".lightbox-carousel .lightbox-carousel__item").length&&a(".lightbox-carousel").slick({dots:!1,arrows:!1,infinite:!0,fade:!0,autoplay:!0,speed:1e3,adaptiveHeight:!0,asNavFor:".lightbox-carousel--nav"}),a(".lightbox-carousel--nav").length&&1<a(".lightbox-carousel--nav .lightbox-carousel--nav__item").length&&a(".lightbox-carousel--nav").slick({slidesToShow:6,slidesToScroll:1,asNavFor:".lightbox-carousel",dots:!1,arrows:!0,focusOnSelect:!0,infinite:!0,responsive:[{breakpoint:768,settings:{slidesToShow:3}},{breakpoint:480,settings:{slidesToShow:2}}]})}),a(".lightbox-carousel__popup--close, .lightbox-carousel__popup--transparent").on("click",function(e){e.preventDefault(),a(".lightbox-carousel__popup").removeClass("is-show")}))},_animate:function(){var t=200;a(".icon-share").on("mouseenter",function(){a(".share-links").animate({opacity:1});for(var i=a(".share-links li"),r=0;r<i.length;r++)!function(){var e=r;setTimeout(function(){i[e].classList.add("is-animated")},600-t*r)}()}).on("mouseleave",function(){for(var i=a(".share-links li"),r=0;r<i.length;r++)!function(){var e=r;setTimeout(function(){i[e].classList.remove("is-animated")},t*r)}();a(".share-links").delay(600).animate({opacity:0})})},_lineHeight:function(){a(window).on("load",function(){if(a(window).width()<768){a.each([".b-actu .p",".content-header .p",".b-actualite .p",".body-thumb .p",".container-contact-form .p",".text-form-partenaire .p",".b-partenaire .p",".b-timeline__text .p"],function(e,i){var r=3*parseFloat(a(i).css("line-height"));r<a(i).innerHeight()&&(a(i).append("<span> [...]</span>"),a(i).css({height:r-2}).addClass("is-hidden")),a(i).on("click","span",function(){a(this).parent(".p").toggleClass("is-hidden")})});var e=a(".text-concours"),i=3*parseFloat(e.find(".p").css("line-height"));i<e.innerHeight()&&(e.append("<span> [...]</span>"),e.css({height:i-1}).addClass("is-hidden")),e.on("click","span",function(){a(this).parent(".text-concours").toggleClass("is-hidden")})}})},_fixedHeader:function(){if(a("header").on("show.bs.collapse",function(){a(this).addClass("is-active"),a("body").addClass("is-clipped")}),a("header").on("hide.bs.collapse",function(){a(this).removeClass("is-active"),a("body").removeClass("is-clipped"),a(".nav-link.active").removeClass("active").next(".nav-item__wrapper").slideUp(),a(".nav-item__dropDown > a.active").removeClass("active").next("ul").slideUp()}),a(".fixed-breadcrumb").length&&767<a(window).width()){var i=a(".fixed-breadcrumb").offset().top,r=a(".fixed-breadcrumb").outerHeight(!0),t=a("header").outerHeight(!0);a(window).on("load scroll",function(){var e=a(".header__middle").outerHeight(!0);a(window).scrollTop()>=i-e?(a(".fixed-breadcrumb").addClass("is-fixed").css("top",e),a("body").css("padding-top",t+r)):(a(".fixed-breadcrumb").removeClass("is-fixed").css("top","auto"),a("body").css("padding-top",0))})}a(window).on("load scroll",function(){var e=a("header").height();a(window).scrollTop()>e?a("header").addClass("is-sticky"):a("header").removeClass("is-sticky")})},_dropDown:function(){a(window).on("load",function(){a(window).width()<767&&(a(".nav-link").on("click",function(e){e.preventDefault();var i=a(this).parents(".navbar-nav");if(i.find(".nav-item__dropDown > a.is-active").removeClass("is-active").next("ul").slideUp(),a(this).hasClass("is-active"))return a(this).removeClass("is-active").next(".nav-item__wrapper").slideUp(),!1;i.find(".nav-link.is-active").removeClass("is-active").next(".nav-item__wrapper").slideUp(),a(this).addClass("is-active").next(".nav-item__wrapper").slideDown()}),a(".nav-item__dropDown > a").on("click",function(e){e.preventDefault();var i=a(this).parents(".nav-item__container--left");if(a(this).hasClass("is-active"))return a(this).removeClass("is-active").next("ul").slideUp(),!1;i.find(".is-active").removeClass("is-active").next("ul").slideUp(),a(this).addClass("is-active").next("ul").slideDown()}))})},_search:function(){a(".btn-search").click(function(e){e.preventDefault(),a(this).addClass("is-opened"),a("body, .s-search, .search-overlay").addClass("is-opened")}),a(".close-search").on("click",function(e){e.preventDefault(),a("body, .s-search, .search-overlay, .btn-search").removeClass("is-opened")}),a("#form-search #search").on("focus",function(){a(this).next(".links").addClass("is-listed")}),a("#form-search .links span").on("click",function(){a("#form-search #search").val(a(this).text())})},_slider:function(){a(".slider__home").length&&1<a(".slider__home .b-bandeau").length&&a(".slider__home").slick({dots:!0,arrows:!1,infinite:!0,autoplay:!0,speed:1e3,adaptiveHeight:!0,responsive:[{breakpoint:767,settings:{dots:!1}}]}),a(".slider-partenaire").slick({infinite:!1,dots:!1,arrows:!0,slidesToShow:6,slidesToScroll:1,responsive:[{breakpoint:1025,settings:{slidesToShow:4}},{breakpoint:801,settings:{slidesToShow:3}},{breakpoint:481,settings:{slidesToShow:2}}]})},_cookieBar:function(){a.cookieBar({message:'En poursuivant votre navigation sur ce site, vous acceptez l’utilisation de cookies pour optimiser les performances de ce site et vous proposer des services et offres adaptés à vos préférences et vos centres d’intérêts. <a href="/mentions-legales">En savoir plus</a>',acceptButton:!0,acceptText:"J’accepte",autoEnable:!0,effect:"slide",fixed:!0,bottom:!0})},_validationJS:function(){a.extend(a.validator.messages,{required:"Ce champ est obligatoire.",remote:"Veuillez corriger ce champ.",email:"Veuillez fournir une adresse électronique valide.",url:"Veuillez fournir une adresse URL valide.",date:"Veuillez fournir une date valide.",dateISO:"Veuillez fournir une date valide (ISO).",number:"Veuillez fournir un numéro valide.",digits:"Veuillez fournir seulement des chiffres.",creditcard:"Veuillez fournir un numéro de carte de crédit valide.",equalTo:"Veuillez fournir encore la même valeur.",extension:"Veuillez f ournir une valeur avec une extension valide.",maxlength:a.validator.format("Veuillez fournir au plus {0} caractères."),minlength:a.validator.format("Veuillez fournir au moins {0} caractères."),rangelength:a.validator.format("Veuillez fournir une valeur qui contient entre {0} et {1} caractères."),range:a.validator.format("Veuillez fournir une valeur entre {0} et {1}."),max:a.validator.format("Veuillez fournir une valeur inférieure ou égale à {0}."),min:a.validator.format("Veuillez fournir une valeur supérieure ou égale à {0}."),step:a.validator.format("Veuillez fournir une valeur multiple de {0}."),maxWords:a.validator.format("Veuillez fournir au plus {0} mots."),minWords:a.validator.format("Veuillez fournir au moins {0} mots."),rangeWords:a.validator.format("Veuillez fournir entre {0} et {1} mots."),letterswithbasicpunc:"Veuillez fournir seulement des lettres et des signes de ponctuation.",alphanumeric:"Veuillez fournir seulement des lettres, nombres, espaces et soulignages.",lettersonly:"Veuillez fournir seulement des lettres.",nowhitespace:"Veuillez ne pas inscrire d'espaces blancs.",ziprange:"Veuillez fournir un code postal entre 902xx-xxxx et 905-xx-xxxx.",integer:"Veuillez fournir un nombre non décimal qui est positif ou négatif.",vinUS:"Veuillez fournir un numéro d'identification du véhicule (VIN).",dateITA:"Veuillez fournir une date valide.",time:"Veuillez fournir une heure valide entre 00:00 et 23:59.",phoneUS:"Veuillez fournir un numéro de téléphone valide.",phoneUK:"Veuillez fournir un numéro de téléphone valide.",mobileUK:"Veuillez fournir un numéro de téléphone mobile valide.",strippedminlength:a.validator.format("Veuillez fournir au moins {0} caractères."),email2:"Veuillez fournir une adresse électronique valide.",url2:"Veuillez fournir une adresse URL valide.",creditcardtypes:"Veuillez fournir un numéro de carte de crédit valide.",ipv4:"Veuillez fournir une adresse IP v4 valide.",ipv6:"Veuillez fournir une adresse IP v6 valide.",require_from_group:"Veuillez fournir au moins {0} de ces champs.",nifES:"Veuillez fournir un numéro NIF valide.",nieES:"Veuillez fournir un numéro NIE valide.",cifES:"Veuillez fournir un numéro CIF valide.",postalCodeCA:"Veuillez fournir un code postal valide.",regex:"Adresse email invalide"}),a.validator.addMethod("customemail",function(e,i){return/^\w+([-+.']\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/.test(e)},"Veuillez fournir une adresse électronique valide."),a("#form-newsletter").length&&a("#form-newsletter").validate({rules:{email:{required:!0,customemail:!0},"check-newsletter-form":"required"}}),a("#form-search").length&&a("#form-search").validate({rules:{search:{required:!0,minlength:3}}}),a("#exposition-form").length&&a("#exposition-form").validate({rules:{nom:"required",email:{required:!0,customemail:!0},tel:"required","check-exposition-form":"required"}}),a("#contact-form").length&&a("#contact-form").validate({rules:{choix:"required",nom:"required",email:{required:!0,customemail:!0},tel:{number:!0,required:!0},nomEtablissement:"required",adresseEtablissement:"required","check-contact-form":"required"}}),a("#partenaire-form").length&&a("#partenaire-form").validate({rules:{nom:"required",email:{required:!0,customemail:!0},tel:{number:!0,required:!0},"check-partenaire-form":"required"}}),a("#pratique-contact-form").length&&a("#pratique-contact-form").validate({rules:{choix:"required",nom:"required",email:{required:!0,customemail:!0},tel:{number:!0,required:!0},"check-pratique-contact-form":"required"}}),a("#pratique-sejour-form").length&&a("#pratique-sejour-form").validate({rules:{nom:"required",email:{required:!0,customemail:!0},tel:{number:!0,required:!0},"check-pratique-sejour-form":"required"}})}}).init()}(jQuery);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImpxdWVyeS5zY3JpcHRzLm1pbi5qcyJdLCJuYW1lcyI6WyIkIiwiaW5pdCIsInRoaXMiLCJfdmFsaWRhdGlvbkpTIiwiX3NsaWRlciIsIl9zZWFyY2giLCJfZHJvcERvd24iLCJfZml4ZWRIZWFkZXIiLCJfbGluZUhlaWdodCIsIl9saWdodGJveCIsIl9wcmludCIsIl9hbmltYXRlIiwiX3NlbGVjdDIiLCJfYXVkaW8iLCJvbiIsImF0dHIiLCJhdWRpbyIsInBsYXkiLCJwYXVzZSIsImxlbmd0aCIsInNlbGVjdDIiLCJtaW5pbXVtUmVzdWx0c0ZvclNlYXJjaCIsIkluZmluaXR5IiwidGhlbWUiLCJ3aWR0aCIsImUiLCJwcmV2ZW50RGVmYXVsdCIsIndpbmRvdyIsInByaW50IiwiYWRkQ2xhc3MiLCJzbGljayIsImRvdHMiLCJhcnJvd3MiLCJpbmZpbml0ZSIsImZhZGUiLCJhdXRvcGxheSIsInNwZWVkIiwiYWRhcHRpdmVIZWlnaHQiLCJhc05hdkZvciIsInNsaWRlc1RvU2hvdyIsInNsaWRlc1RvU2Nyb2xsIiwiZm9jdXNPblNlbGVjdCIsInJlc3BvbnNpdmUiLCJicmVha3BvaW50Iiwic2V0dGluZ3MiLCJyZW1vdmVDbGFzcyIsImRlbGF5IiwiYW5pbWF0ZSIsIm9wYWNpdHkiLCJjaWJsZSIsImkiLCJjdXJyZW50SSIsInNldFRpbWVvdXQiLCJjbGFzc0xpc3QiLCJhZGQiLCJyZW1vdmUiLCJlYWNoIiwia2V5IiwidmFsdWUiLCIkbGgiLCJwYXJzZUZsb2F0IiwiY3NzIiwiaW5uZXJIZWlnaHQiLCJhcHBlbmQiLCJoZWlnaHQiLCJwYXJlbnQiLCJ0b2dnbGVDbGFzcyIsIiRjaWJsZUNvbmNvdXIiLCJmaW5kIiwibmV4dCIsInNsaWRlVXAiLCJ0b3BJbkxvYWQiLCJvZmZzZXQiLCJ0b3AiLCIkYnJlYWRjcnVtYkhlaWdodCIsIm91dGVySGVpZ2h0IiwiJGhlYWRlckhlaWdodEluTG9hZCIsImhlYWRlckhlaWdodCIsInNjcm9sbFRvcCIsIiRoZWFkZXJIZWlnaHQiLCIkcGFyZW50IiwicGFyZW50cyIsImhhc0NsYXNzIiwic2xpZGVEb3duIiwiY2xpY2siLCJ2YWwiLCJ0ZXh0IiwiX2Nvb2tpZUJhciIsImNvb2tpZUJhciIsIm1lc3NhZ2UiLCJhY2NlcHRCdXR0b24iLCJhY2NlcHRUZXh0IiwiYXV0b0VuYWJsZSIsImVmZmVjdCIsImZpeGVkIiwiYm90dG9tIiwiZXh0ZW5kIiwidmFsaWRhdG9yIiwibWVzc2FnZXMiLCJyZXF1aXJlZCIsInJlbW90ZSIsImVtYWlsIiwidXJsIiwiZGF0ZSIsImRhdGVJU08iLCJudW1iZXIiLCJkaWdpdHMiLCJjcmVkaXRjYXJkIiwiZXF1YWxUbyIsImV4dGVuc2lvbiIsIm1heGxlbmd0aCIsImZvcm1hdCIsIm1pbmxlbmd0aCIsInJhbmdlbGVuZ3RoIiwicmFuZ2UiLCJtYXgiLCJtaW4iLCJzdGVwIiwibWF4V29yZHMiLCJtaW5Xb3JkcyIsInJhbmdlV29yZHMiLCJsZXR0ZXJzd2l0aGJhc2ljcHVuYyIsImFscGhhbnVtZXJpYyIsImxldHRlcnNvbmx5Iiwibm93aGl0ZXNwYWNlIiwiemlwcmFuZ2UiLCJpbnRlZ2VyIiwidmluVVMiLCJkYXRlSVRBIiwidGltZSIsInBob25lVVMiLCJwaG9uZVVLIiwibW9iaWxlVUsiLCJzdHJpcHBlZG1pbmxlbmd0aCIsImVtYWlsMiIsInVybDIiLCJjcmVkaXRjYXJkdHlwZXMiLCJpcHY0IiwiaXB2NiIsInJlcXVpcmVfZnJvbV9ncm91cCIsIm5pZkVTIiwibmllRVMiLCJjaWZFUyIsInBvc3RhbENvZGVDQSIsInJlZ2V4IiwiYWRkTWV0aG9kIiwiZWxlbWVudCIsInRlc3QiLCJ2YWxpZGF0ZSIsInJ1bGVzIiwiY3VzdG9tZW1haWwiLCJjaGVjay1uZXdzbGV0dGVyLWZvcm0iLCJzZWFyY2giLCJub20iLCJ0ZWwiLCJjaGVjay1leHBvc2l0aW9uLWZvcm0iLCJjaG9peCIsIm5vbUV0YWJsaXNzZW1lbnQiLCJhZHJlc3NlRXRhYmxpc3NlbWVudCIsImNoZWNrLWNvbnRhY3QtZm9ybSIsImNoZWNrLXBhcnRlbmFpcmUtZm9ybSIsImNoZWNrLXByYXRpcXVlLWNvbnRhY3QtZm9ybSIsImNoZWNrLXByYXRpcXVlLXNlam91ci1mb3JtIiwialF1ZXJ5Il0sIm1hcHBpbmdzIjoiQ0FBQyxTQUFTQSxJQUdGLENBQ0pDLEtBQU0sV0FFSkMsS0FBS0MsZ0JBQ0xELEtBQUtFLFVBQ0xGLEtBQUtHLFVBQ0xILEtBQUtJLFlBQ0xKLEtBQUtLLGVBQ0xMLEtBQUtNLGNBQ0xOLEtBQUtPLFlBQ0xQLEtBQUtRLFNBQ0xSLEtBQUtTLFdBQ0xULEtBQUtVLFdBQ0xWLEtBQUtXLFVBR1BBLE9BQVEsV0FDTmIsRUFBRSxpQkFBaUJjLEdBQUcsUUFBUyxXQUNILGdCQUF0QmQsRUFBRUUsTUFBTWEsS0FBSyxPQUNmQyxNQUFNQyxPQUNOakIsRUFBRUUsTUFBTWEsS0FBSyxLQUFNLGlCQUVuQkMsTUFBTUUsUUFDTmxCLEVBQUVFLE1BQU1hLEtBQUssS0FBTSxvQkFLekJILFNBQVUsV0FDSlosRUFBRSxtQkFBbUJtQixRQUN2Qm5CLEVBQUUsbUJBQW1Cb0IsUUFBUSxDQUMzQkMsd0JBQXlCQyxFQUFBQSxFQUN6QkMsTUFBTyxtQkFLUHZCLEVBQUUsc0JBQXNCbUIsUUFDMUJuQixFQUFFLHNCQUFzQm9CLFFBQVEsQ0FDOUJDLHdCQUF5QkMsRUFBQUEsRUFDekJFLE1BQU8sVUFNYmQsT0FBUSxXQUNOVixFQUFFLGVBQWVjLEdBQUcsUUFBUyxTQUFTVyxHQUNwQ0EsRUFBRUMsaUJBQ0ZDLE9BQU9DLFdBSVhuQixVQUFXLFdBQ0xULEVBQUUscUJBQXFCbUIsU0FFekJuQixFQUFFLHFCQUFxQmMsR0FBRyxRQUFTLFdBQ2pDZCxFQUFFLDZCQUE2QjZCLFNBQVMsV0FDcEM3QixFQUFFLHNCQUFzQm1CLFFBQW9FLEVBQTFEbkIsRUFBRSwrQ0FBK0NtQixRQUNyRm5CLEVBQUUsc0JBQXNCOEIsTUFBTSxDQUM1QkMsTUFBTSxFQUNOQyxRQUFRLEVBQ1JDLFVBQVUsRUFDVkMsTUFBTSxFQUNOQyxVQUFVLEVBQ1ZDLE1BQU8sSUFD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QUUsMEJBQTBCbUIsUUFDOUJuQixFQUFFLDBCQUEwQm9KLFNBQVMsQ0FDbkNDLE1BQU8sQ0FDTE8sTUFBUyxXQUNUSCxJQUFPLFdBQ1BwRCxNQUFTLENBQ1BGLFVBQVUsRUFDVm1ELGFBQWUsR0FFakJJLElBQU8sQ0FDTGpELFFBQVEsRUFDUk4sVUFBVSxHQUVaOEQsOEJBQStCLGNBS2pDakssRUFBRSx5QkFBeUJtQixRQUM3Qm5CLEVBQUUseUJBQXlCb0osU0FBUyxDQUNsQ0MsTUFBTyxDQUNMSSxJQUFPLFdBQ1BwRCxNQUFTLENBQ1BGLFVBQVUsRUFDVm1ELGFBQWUsR0FFakJJLElBQU8sQ0FDTGpELFFBQVEsRUFDUk4sVUFBVSxHQUVaK0QsNkJBQThCLGlCQU9wQ2pLLE9BcGZOLENBdWZFa0siLCJmaWxlIjoianF1ZXJ5LnNjcmlwdHMubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uKCQpe1xuXG4gIHZhciBhcHA7XG4gIGFwcCA9IHtcbiAgICBpbml0OiBmdW5jdGlvbigpIHtcbiAgICAgIC8vIHRoaXMuX2Nvb2tpZUJhcigpO1xuICAgICAgdGhpcy5fdmFsaWRhdGlvbkpTKCk7XG4gICAgICB0aGlzLl9zbGlkZXIoKTtcbiAgICAgIHRoaXMuX3NlYXJjaCgpO1xuICAgICAgdGhpcy5fZHJvcERvd24oKTtcbiAgICAgIHRoaXMuX2ZpeGVkSGVhZGVyKCk7XG4gICAgICB0aGlzLl9saW5lSGVpZ2h0KCk7XG4gICAgICB0aGlzLl9saWdodGJveCgpO1xuICAgICAgdGhpcy5fcHJpbnQoKTtcbiAgICAgIHRoaXMuX2FuaW1hdGUoKTtcbiAgICAgIHRoaXMuX3NlbGVjdDIoKTtcbiAgICAgIHRoaXMuX2F1ZGlvKCk7XG4gICAgICBcbiAgICB9LFxuICAgIF9hdWRpbzogZnVuY3Rpb24oKSB7XG4gICAgICAkKCcjYXVkaW9fcGxheWVyJykub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICgkKHRoaXMpLmF0dHIoJ2lkJykgPT0gJ2F1ZGlvX3BsYXllcicpIHtcbiAgICAgICAgICBhdWRpby5wbGF5KCk7XG4gICAgICAgICAgJCh0aGlzKS5hdHRyKCdpZCcsICdhdWRpb19wYXVzZScpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGF1ZGlvLnBhdXNlKCk7XG4gICAgICAgICAgJCh0aGlzKS5hdHRyKCdpZCcsICdhdWRpb19wbGF5ZXInKTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgX3NlbGVjdDI6IGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKCQoXCIuc2VsZWN0LWNvdW50cnlcIikubGVuZ3RoKSB7XG4gICAgICAgICQoXCIuc2VsZWN0LWNvdW50cnlcIikuc2VsZWN0Mih7XG4gICAgICAgICAgbWluaW11bVJlc3VsdHNGb3JTZWFyY2g6IEluZmluaXR5LFxuICAgICAgICAgIHRoZW1lOiBcInNlbGVjdC1jb3VudHJ5XCIsXG4gICAgICAgICAgLy8gd2lkdGg6ICcxMDAlJ1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgaWYgKCQoXCJzZWxlY3QuZm9ybS1maWx0ZXJcIikubGVuZ3RoKSB7XG4gICAgICAgICQoXCJzZWxlY3QuZm9ybS1maWx0ZXJcIikuc2VsZWN0Mih7XG4gICAgICAgICAgbWluaW11bVJlc3VsdHNGb3JTZWFyY2g6IEluZmluaXR5LFxuICAgICAgICAgIHdpZHRoOiAnMTAwJSdcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIFxuICAgIH0sXG4gICAgX3ByaW50OiBmdW5jdGlvbigpIHtcbiAgICAgICQoJy5pY29uLXByaW50Jykub24oJ2NsaWNrJywgZnVuY3Rpb24oZSkge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHdpbmRvdy5wcmludCgpO1xuICAgICAgfSk7XG4gICAgfSxcbiAgICBcbiAgICBfbGlnaHRib3g6IGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKCQoJy5iLXNpZGViYXJfX3RodW1iJykubGVuZ3RoKSB7XG4gICAgICAgIFxuICAgICAgICAkKCcuYi1zaWRlYmFyX190aHVtYicpLm9uKCdjbGljaycsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICQoJy5saWdodGJveC1jYXJvdXNlbF9fcG9wdXAnKS5hZGRDbGFzcygnaXMtc2hvdycpO1xuICAgICAgICAgIGlmICgkKCcubGlnaHRib3gtY2Fyb3VzZWwnKS5sZW5ndGggJiYgJCgnLmxpZ2h0Ym94LWNhcm91c2VsIC5saWdodGJveC1jYXJvdXNlbF9faXRlbScpLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgICQoJy5saWdodGJveC1jYXJvdXNlbCcpLnNsaWNrKHtcbiAgICAgICAgICAgICAgZG90czogZmFsc2UsXG4gICAgICAgICAgICAgIGFycm93czogZmFsc2UsXG4gICAgICAgICAgICAgIGluZmluaXRlOiB0cnVlLFxuICAgICAgICAgICAgICBmYWRlOiB0cnVlLFxuICAgICAgICAgICAgICBhdXRvcGxheTogdHJ1ZSxcbiAgICAgICAgICAgICAgc3BlZWQ6IDEwMDAsXG4gICAgICAgICAgICAgIGFkYXB0aXZlSGVpZ2h0OiB0cnVlLFxuICAgICAgICAgICAgICBhc05hdkZvcjogJy5saWdodGJveC1jYXJvdXNlbC0tbmF2J1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICgkKCcubGlnaHRib3gtY2Fyb3VzZWwtLW5hdicpLmxlbmd0aCAmJiAkKCcubGlnaHRib3gtY2Fyb3VzZWwtLW5hdiAubGlnaHRib3gtY2Fyb3VzZWwtLW5hdl9faXRlbScpLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgICQoJy5saWdodGJveC1jYXJvdXNlbC0tbmF2Jykuc2xpY2soe1xuICAgICAgICAgICAgICBzbGlkZXNUb1Nob3c6IDYsXG4gICAgICAgICAgICAgIHNsaWRlc1RvU2Nyb2xsOiAxLFxuICAgICAgICAgICAgICBhc05hdkZvcjogJy5saWdodGJveC1jYXJvdXNlbCcsXG4gICAgICAgICAgICAgIGRvdHM6IGZhbHNlLFxuICAgICAgICAgICAgICBhcnJvd3M6IHRydWUsXG4gICAgICAgICAgICAgIGZvY3VzT25TZWxlY3Q6IHRydWUsXG4gICAgICAgICAgICAgIGluZmluaXRlOiB0cnVlLFxuICAgICAgICAgICAgICByZXNwb25zaXZlOiBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgYnJlYWtwb2ludDogNzY4LFxuICAgICAgICAgICAgICAgICAgc2V0dGluZ3M6IHtcbiAgICAgICAgICAgICAgICAgICAgc2xpZGVzVG9TaG93OiAzXG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICBicmVha3BvaW50OiA0ODAsXG4gICAgICAgICAgICAgICAgICBzZXR0aW5nczoge1xuICAgICAgICAgICAgICAgICAgICBzbGlkZXNUb1Nob3c6IDJcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIF1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgICQoJy5saWdodGJveC1jYXJvdXNlbF9fcG9wdXAtLWNsb3NlLCAubGlnaHRib3gtY2Fyb3VzZWxfX3BvcHVwLS10cmFuc3BhcmVudCcpLm9uKCdjbGljaycsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgJCgnLmxpZ2h0Ym94LWNhcm91c2VsX19wb3B1cCcpLnJlbW92ZUNsYXNzKCdpcy1zaG93Jyk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0sXG4gICAgXG4gICAgX2FuaW1hdGU6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGRlbGF5ID0gMjAwO1xuXG4gICAgICAkKCcuaWNvbi1zaGFyZScpLm9uKCdtb3VzZWVudGVyJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICQoJy5zaGFyZS1saW5rcycpLmFuaW1hdGUoeydvcGFjaXR5JyA6IDF9KTtcbiAgICAgICAgdmFyIGNpYmxlID0gJCgnLnNoYXJlLWxpbmtzIGxpJyk7XG4gICAgICAgIGZvcih2YXIgaSA9IDA7IGkgPCBjaWJsZS5sZW5ndGggOyBpKyspIHtcbiAgICAgICAgICAoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgY3VycmVudEkgPSBpO1xuICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgY2libGVbY3VycmVudEldLmNsYXNzTGlzdC5hZGQoXCJpcy1hbmltYXRlZFwiKTtcbiAgICAgICAgICAgIH0sIChkZWxheSozKSAtIChkZWxheSppKSk7XG4gICAgICAgICAgfSkoKTtcbiAgICAgICAgfVxuICAgICAgfSkub24oJ21vdXNlbGVhdmUnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGNpYmxlID0gJCgnLnNoYXJlLWxpbmtzIGxpJyk7XG4gICAgICAgIGZvcih2YXIgaSA9IDA7IGkgPCBjaWJsZS5sZW5ndGggOyBpKyspIHtcbiAgICAgICAgICAoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgY3VycmVudEkgPSBpO1xuICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgY2libGVbY3VycmVudEldLmNsYXNzTGlzdC5yZW1vdmUoXCJpcy1hbmltYXRlZFwiKTtcbiAgICAgICAgICAgIH0sIGRlbGF5KmkpO1xuICAgICAgICAgIH0pKCk7XG4gICAgICAgIH1cbiAgICAgICAgJCgnLnNoYXJlLWxpbmtzJykuZGVsYXkoKGRlbGF5KjMpKS5hbmltYXRlKHsnb3BhY2l0eScgOiAwfSk7XG4gICAgICB9KTtcblxuXG5cbiAgICB9LFxuICAgIF9saW5lSGVpZ2h0OiBmdW5jdGlvbigpIHtcbiAgICAgICQod2luZG93KS5vbignbG9hZCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAoJCh3aW5kb3cpLndpZHRoKCkgPCA3NjgpIHtcbiAgICAgICAgICB2YXIgJGNpYmxlID0gWycuYi1hY3R1IC5wJywgJy5jb250ZW50LWhlYWRlciAucCcsICcuYi1hY3R1YWxpdGUgLnAnLCAnLmJvZHktdGh1bWIgLnAnLCAnLmNvbnRhaW5lci1jb250YWN0LWZvcm0gLnAnLCAnLnRleHQtZm9ybS1wYXJ0ZW5haXJlIC5wJywgJy5iLXBhcnRlbmFpcmUgLnAnLCAnLmItdGltZWxpbmVfX3RleHQgLnAnXTtcbiAgICAgICAgICAkLmVhY2goJGNpYmxlLCBmdW5jdGlvbihrZXksIHZhbHVlKSB7XG4gICAgICAgICAgICB2YXIgJGxoID0gKHBhcnNlRmxvYXQoJCh2YWx1ZSkuY3NzKCdsaW5lLWhlaWdodCcpKSAqIDMpO1xuICAgICAgICAgICAgdmFyICRoID0gJCh2YWx1ZSkuaW5uZXJIZWlnaHQoKTtcbiAgICAgICAgICAgIGlmICgkaCA+ICRsaCkge1xuICAgICAgICAgICAgICAkKHZhbHVlKS5hcHBlbmQoJzxzcGFuPiBbLi4uXTwvc3Bhbj4nKTtcbiAgICAgICAgICAgICAgJCh2YWx1ZSkuY3NzKHsnaGVpZ2h0JzogJGxoIC0gMn0pLmFkZENsYXNzKCdpcy1oaWRkZW4nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgICQodmFsdWUpLm9uKCdjbGljaycsICdzcGFuJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICQodGhpcykucGFyZW50KCcucCcpLnRvZ2dsZUNsYXNzKCdpcy1oaWRkZW4nKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0pO1xuXG5cbiAgICAgICAgICB2YXIgJGNpYmxlQ29uY291ciA9ICQoJy50ZXh0LWNvbmNvdXJzJyk7XG4gICAgICAgICAgdmFyICRsaCA9IChwYXJzZUZsb2F0KCRjaWJsZUNvbmNvdXIuZmluZCgnLnAnKS5jc3MoJ2xpbmUtaGVpZ2h0JykpICogMyk7XG4gICAgICAgICAgdmFyICRoID0gJGNpYmxlQ29uY291ci5pbm5lckhlaWdodCgpO1xuICAgICAgICAgIGlmICgkaCA+ICRsaCkge1xuICAgICAgICAgICAgJGNpYmxlQ29uY291ci5hcHBlbmQoJzxzcGFuPiBbLi4uXTwvc3Bhbj4nKTtcbiAgICAgICAgICAgICRjaWJsZUNvbmNvdXIuY3NzKHsnaGVpZ2h0JzogJGxoIC0gMX0pLmFkZENsYXNzKCdpcy1oaWRkZW4nKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgJGNpYmxlQ29uY291ci5vbignY2xpY2snLCAnc3BhbicsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgJCh0aGlzKS5wYXJlbnQoJy50ZXh0LWNvbmNvdXJzJykudG9nZ2xlQ2xhc3MoJ2lzLWhpZGRlbicpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIFxuXG4gICAgfSxcbiAgICBfZml4ZWRIZWFkZXI6IGZ1bmN0aW9uKCkge1xuICAgICAgJCgnaGVhZGVyJykub24oJ3Nob3cuYnMuY29sbGFwc2UnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICQodGhpcykuYWRkQ2xhc3MoJ2lzLWFjdGl2ZScpO1xuICAgICAgICAkKCdib2R5JykuYWRkQ2xhc3MoJ2lzLWNsaXBwZWQnKTtcbiAgICAgIH0pO1xuICAgICAgJCgnaGVhZGVyJykub24oJ2hpZGUuYnMuY29sbGFwc2UnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICQodGhpcykucmVtb3ZlQ2xhc3MoJ2lzLWFjdGl2ZScpO1xuICAgICAgICAkKCdib2R5JykucmVtb3ZlQ2xhc3MoJ2lzLWNsaXBwZWQnKTtcbiAgICAgICAgJCgnLm5hdi1saW5rLmFjdGl2ZScpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKS5uZXh0KCcubmF2LWl0ZW1fX3dyYXBwZXInKS5zbGlkZVVwKCk7XG4gICAgICAgICQoJy5uYXYtaXRlbV9fZHJvcERvd24gPiBhLmFjdGl2ZScpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKS5uZXh0KCd1bCcpLnNsaWRlVXAoKTtcbiAgICAgIH0pO1xuXG4gICAgICBpZiAoJCgnLmZpeGVkLWJyZWFkY3J1bWInKS5sZW5ndGggJiYgJCh3aW5kb3cpLndpZHRoKCkgPiA3NjcpIHtcbiAgICAgICAgdmFyIHRvcEluTG9hZCA9ICQoJy5maXhlZC1icmVhZGNydW1iJykub2Zmc2V0KCkudG9wO1xuXG4gICAgICAgIHZhciAkYnJlYWRjcnVtYkhlaWdodCA9ICQoJy5maXhlZC1icmVhZGNydW1iJykub3V0ZXJIZWlnaHQodHJ1ZSk7XG4gICAgICAgIHZhciAkaGVhZGVySGVpZ2h0SW5Mb2FkID0gJCgnaGVhZGVyJykub3V0ZXJIZWlnaHQodHJ1ZSk7XG4gICAgICAgIFxuICAgICAgICAkKHdpbmRvdykub24oJ2xvYWQgc2Nyb2xsJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgdmFyIGhlYWRlckhlaWdodCA9ICQoJy5oZWFkZXJfX21pZGRsZScpLm91dGVySGVpZ2h0KHRydWUpO1xuICAgICAgICAgIGlmICgkKHdpbmRvdykuc2Nyb2xsVG9wKCkgPj0gdG9wSW5Mb2FkIC0gaGVhZGVySGVpZ2h0KSB7XG4gICAgICAgICAgICAkKCcuZml4ZWQtYnJlYWRjcnVtYicpLmFkZENsYXNzKCdpcy1maXhlZCcpLmNzcygndG9wJywgaGVhZGVySGVpZ2h0KTtcbiAgICAgICAgICAgICQoJ2JvZHknKS5jc3MoJ3BhZGRpbmctdG9wJywgKCRoZWFkZXJIZWlnaHRJbkxvYWQgKyAkYnJlYWRjcnVtYkhlaWdodCkpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAkKCcuZml4ZWQtYnJlYWRjcnVtYicpLnJlbW92ZUNsYXNzKCdpcy1maXhlZCcpLmNzcygndG9wJywgJ2F1dG8nKTtcbiAgICAgICAgICAgICQoJ2JvZHknKS5jc3MoJ3BhZGRpbmctdG9wJywgMCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgJCh3aW5kb3cpLm9uKCdsb2FkIHNjcm9sbCcsIGZ1bmN0aW9uKCkge1xuXG4gICAgICAgIHZhciAkaGVhZGVySGVpZ2h0ID0gJCgnaGVhZGVyJykuaGVpZ2h0KCk7XG4gICAgICAgIFxuICAgICAgICAgIGlmICgkKHdpbmRvdykuc2Nyb2xsVG9wKCkgPiAkaGVhZGVySGVpZ2h0KSB7XG4gICAgICAgICAgICAkKCdoZWFkZXInKS5hZGRDbGFzcygnaXMtc3RpY2t5Jyk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICQoJ2hlYWRlcicpLnJlbW92ZUNsYXNzKCdpcy1zdGlja3knKTtcbiAgICAgICAgICB9XG4gICAgICB9KTtcblxuICAgIH0sXG4gICAgX2Ryb3BEb3duOiBmdW5jdGlvbigpIHtcbiAgICAgICQod2luZG93KS5vbignbG9hZCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAoJCh3aW5kb3cpLndpZHRoKCkgPCA3NjcpIHtcbiAgICAgICAgICAkKCcubmF2LWxpbmsnKS5vbignY2xpY2snLCBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICB2YXIgJHBhcmVudCA9ICQodGhpcykucGFyZW50cygnLm5hdmJhci1uYXYnKTtcblxuICAgICAgICAgICAgJHBhcmVudC5maW5kKCcubmF2LWl0ZW1fX2Ryb3BEb3duID4gYS5pcy1hY3RpdmUnKS5yZW1vdmVDbGFzcygnaXMtYWN0aXZlJykubmV4dCgndWwnKS5zbGlkZVVwKCk7XG5cbiAgICAgICAgICAgIGlmKCQodGhpcykuaGFzQ2xhc3MoJ2lzLWFjdGl2ZScpKSB7XG4gICAgICAgICAgICAgICQodGhpcykucmVtb3ZlQ2xhc3MoJ2lzLWFjdGl2ZScpLm5leHQoJy5uYXYtaXRlbV9fd3JhcHBlcicpLnNsaWRlVXAoKTtcbiAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAkcGFyZW50LmZpbmQoJy5uYXYtbGluay5pcy1hY3RpdmUnKS5yZW1vdmVDbGFzcygnaXMtYWN0aXZlJykubmV4dCgnLm5hdi1pdGVtX193cmFwcGVyJykuc2xpZGVVcCgpO1xuICAgICAgICAgICAgJCh0aGlzKS5hZGRDbGFzcygnaXMtYWN0aXZlJykubmV4dCgnLm5hdi1pdGVtX193cmFwcGVyJykuc2xpZGVEb3duKCk7XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICAkKCcubmF2LWl0ZW1fX2Ryb3BEb3duID4gYScpLm9uKCdjbGljaycsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIHZhciAkcGFyZW50ID0gJCh0aGlzKS5wYXJlbnRzKCcubmF2LWl0ZW1fX2NvbnRhaW5lci0tbGVmdCcpO1xuXG4gICAgICAgICAgICBpZigkKHRoaXMpLmhhc0NsYXNzKCdpcy1hY3RpdmUnKSkge1xuICAgICAgICAgICAgICAkKHRoaXMpLnJlbW92ZUNsYXNzKCdpcy1hY3RpdmUnKS5uZXh0KCd1bCcpLnNsaWRlVXAoKTtcbiAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAkcGFyZW50LmZpbmQoJy5pcy1hY3RpdmUnKS5yZW1vdmVDbGFzcygnaXMtYWN0aXZlJykubmV4dCgndWwnKS5zbGlkZVVwKCk7XG4gICAgICAgICAgICAkKHRoaXMpLmFkZENsYXNzKCdpcy1hY3RpdmUnKS5uZXh0KCd1bCcpLnNsaWRlRG93bigpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgfSk7XG4gICAgICBcbiAgICB9LFxuICAgIF9zZWFyY2g6IGZ1bmN0aW9uKCkge1xuICAgICAgJCgnLmJ0bi1zZWFyY2gnKS5jbGljayhmdW5jdGlvbihlKSB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgJCh0aGlzKS5hZGRDbGFzcygnaXMtb3BlbmVkJyk7XG4gICAgICAgICQoJ2JvZHksIC5zLXNlYXJjaCwgLnNlYXJjaC1vdmVybGF5JykuYWRkQ2xhc3MoJ2lzLW9wZW5lZCcpO1xuICAgICAgfSk7XG4gICAgICAkKCcuY2xvc2Utc2VhcmNoJykub24oJ2NsaWNrJywgZnVuY3Rpb24oZSkge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICQoJ2JvZHksIC5zLXNlYXJjaCwgLnNlYXJjaC1vdmVybGF5LCAuYnRuLXNlYXJjaCcpLnJlbW92ZUNsYXNzKCdpcy1vcGVuZWQnKTtcbiAgICAgIH0pO1xuXG4gICAgICAkKCcjZm9ybS1zZWFyY2ggI3NlYXJjaCcpLm9uKCdmb2N1cycsIGZ1bmN0aW9uKCkge1xuICAgICAgICAkKHRoaXMpLm5leHQoJy5saW5rcycpLmFkZENsYXNzKCdpcy1saXN0ZWQnKTtcbiAgICAgIH0pO1xuICAgICAgLy8gJCgnI2Zvcm0tc2VhcmNoICNzZWFyY2gnKS5vbignYmx1cicsIGZ1bmN0aW9uKCkge1xuICAgICAgLy8gICAkKHRoaXMpLm5leHQoJy5saW5rcycpLnJlbW92ZUNsYXNzKCdpcy1saXN0ZWQnKTtcbiAgICAgIC8vIH0pO1xuXG4gICAgICAkKCcjZm9ybS1zZWFyY2ggLmxpbmtzIHNwYW4nKS5vbignY2xpY2snLCBmdW5jdGlvbigpIHtcbiAgICAgICAgJCgnI2Zvcm0tc2VhcmNoICNzZWFyY2gnKS52YWwoJCh0aGlzKS50ZXh0KCkpO1xuICAgICAgfSk7XG5cbiAgICB9LFxuICAgIF9zbGlkZXI6IGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKCQoJy5zbGlkZXJfX2hvbWUnKS5sZW5ndGggJiYgJCgnLnNsaWRlcl9faG9tZSAuYi1iYW5kZWF1JykubGVuZ3RoID4gMSkge1xuICAgICAgICAkKCcuc2xpZGVyX19ob21lJykuc2xpY2soe1xuICAgICAgICAgIGRvdHM6IHRydWUsXG4gICAgICAgICAgYXJyb3dzOiBmYWxzZSxcbiAgICAgICAgICBpbmZpbml0ZTogdHJ1ZSxcbiAgICAgICAgICBhdXRvcGxheTogdHJ1ZSxcbiAgICAgICAgICBzcGVlZDogMTAwMCxcbiAgICAgICAgICAvLyBhdXRvcGxheVNwZWVkOiA1MDAwLFxuICAgICAgICAgIGFkYXB0aXZlSGVpZ2h0OiB0cnVlLFxuICAgICAgICAgIHJlc3BvbnNpdmU6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgYnJlYWtwb2ludDogNzY3LFxuICAgICAgICAgICAgICBzZXR0aW5nczoge1xuICAgICAgICAgICAgICAgIGRvdHM6IGZhbHNlLFxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgXVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgICQoJy5zbGlkZXItcGFydGVuYWlyZScpLnNsaWNrKHtcbiAgICAgICAgaW5maW5pdGU6IGZhbHNlLFxuICAgICAgICBkb3RzOiBmYWxzZSxcbiAgICAgICAgYXJyb3dzOiB0cnVlLFxuICAgICAgICBzbGlkZXNUb1Nob3c6IDYsXG4gICAgICAgIHNsaWRlc1RvU2Nyb2xsOiAxLFxuICAgICAgICByZXNwb25zaXZlOiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgYnJlYWtwb2ludDogMTAyNSxcbiAgICAgICAgICAgIHNldHRpbmdzOiB7XG4gICAgICAgICAgICAgIHNsaWRlc1RvU2hvdzogNCxcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGJyZWFrcG9pbnQ6IDgwMSxcbiAgICAgICAgICAgIHNldHRpbmdzOiB7XG4gICAgICAgICAgICAgIHNsaWRlc1RvU2hvdzogMyxcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGJyZWFrcG9pbnQ6IDQ4MSxcbiAgICAgICAgICAgIHNldHRpbmdzOiB7XG4gICAgICAgICAgICAgIHNsaWRlc1RvU2hvdzogMixcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIF1cbiAgICAgIH0pO1xuICAgIH0sXG4gICAgX2Nvb2tpZUJhcjogZnVuY3Rpb24oKSB7XG4gICAgICAkLmNvb2tpZUJhcih7XG4gICAgICAgIC8vIGZvcmNlU2hvdzogdHJ1ZSxcbiAgICAgICAgbWVzc2FnZTogJ0VuIHBvdXJzdWl2YW50IHZvdHJlIG5hdmlnYXRpb24gc3VyIGNlIHNpdGUsIHZvdXMgYWNjZXB0ZXogbOKAmXV0aWxpc2F0aW9uIGRlIGNvb2tpZXMgcG91ciBvcHRpbWlzZXIgbGVzIHBlcmZvcm1hbmNlcyBkZSBjZSBzaXRlIGV0IHZvdXMgcHJvcG9zZXIgZGVzIHNlcnZpY2VzIGV0IG9mZnJlcyBhZGFwdMOpcyDDoCB2b3MgcHLDqWbDqXJlbmNlcyBldCB2b3MgY2VudHJlcyBk4oCZaW50w6lyw6p0cy4gPGEgaHJlZj1cIi9tZW50aW9ucy1sZWdhbGVzXCI+RW4gc2F2b2lyIHBsdXM8L2E+JyxcbiAgICAgICAgYWNjZXB0QnV0dG9uOiB0cnVlLFxuICAgICAgICBhY2NlcHRUZXh0OiAnSuKAmWFjY2VwdGUnLFxuICAgICAgICBhdXRvRW5hYmxlOiB0cnVlLFxuICAgICAgICBlZmZlY3Q6ICdzbGlkZScsXG4gICAgICAgIGZpeGVkOiB0cnVlLFxuICAgICAgICBib3R0b206IHRydWVcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgX3ZhbGlkYXRpb25KUzogZnVuY3Rpb24oKSB7XG4gICAgICAvL1JlZGVmaW5pdGlvbiBkZXMgbWVzc2FnZXMgZGUgdmFsaWRhdGlvblxuICAgICAgJC5leHRlbmQoJC52YWxpZGF0b3IubWVzc2FnZXMsIHtcbiAgICAgICAgcmVxdWlyZWQ6IFwiQ2UgY2hhbXAgZXN0IG9ibGlnYXRvaXJlLlwiLFxuICAgICAgICByZW1vdGU6IFwiVmV1aWxsZXogY29ycmlnZXIgY2UgY2hhbXAuXCIsXG4gICAgICAgIGVtYWlsOiBcIlZldWlsbGV6IGZvdXJuaXIgdW5lIGFkcmVzc2Ugw6lsZWN0cm9uaXF1ZSB2YWxpZGUuXCIsXG4gICAgICAgIHVybDogXCJWZXVpbGxleiBmb3VybmlyIHVuZSBhZHJlc3NlIFVSTCB2YWxpZGUuXCIsXG4gICAgICAgIGRhdGU6IFwiVmV1aWxsZXogZm91cm5pciB1bmUgZGF0ZSB2YWxpZGUuXCIsXG4gICAgICAgIGRhdGVJU086IFwiVmV1aWxsZXogZm91cm5pciB1bmUgZGF0ZSB2YWxpZGUgKElTTykuXCIsXG4gICAgICAgIG51bWJlcjogXCJWZXVpbGxleiBmb3VybmlyIHVuIG51bcOpcm8gdmFsaWRlLlwiLFxuICAgICAgICBkaWdpdHM6IFwiVmV1aWxsZXogZm91cm5pciBzZXVsZW1lbnQgZGVzIGNoaWZmcmVzLlwiLFxuICAgICAgICBjcmVkaXRjYXJkOiBcIlZldWlsbGV6IGZvdXJuaXIgdW4gbnVtw6lybyBkZSBjYXJ0ZSBkZSBjcsOpZGl0IHZhbGlkZS5cIixcbiAgICAgICAgZXF1YWxUbzogXCJWZXVpbGxleiBmb3VybmlyIGVuY29yZSBsYSBtw6ptZSB2YWxldXIuXCIsXG4gICAgICAgIGV4dGVuc2lvbjogXCJWZXVpbGxleiBmIG91cm5pciB1bmUgdmFsZXVyIGF2ZWMgdW5lIGV4dGVuc2lvbiB2YWxpZGUuXCIsXG4gICAgICAgIG1heGxlbmd0aDogJC52YWxpZGF0b3IuZm9ybWF0KFwiVmV1aWxsZXogZm91cm5pciBhdSBwbHVzIHswfSBjYXJhY3TDqHJlcy5cIiksXG4gICAgICAgIG1pbmxlbmd0aDogJC52YWxpZGF0b3IuZm9ybWF0KFwiVmV1aWxsZXogZm91cm5pciBhdSBtb2lucyB7MH0gY2FyYWN0w6hyZXMuXCIpLFxuICAgICAgICByYW5nZWxlbmd0aDogJC52YWxpZGF0b3IuZm9ybWF0KFwiVmV1aWxsZXogZm91cm5pciB1bmUgdmFsZXVyIHF1aSBjb250aWVudCBlbnRyZSB7MH0gZXQgezF9IGNhcmFjdMOocmVzLlwiKSxcbiAgICAgICAgcmFuZ2U6ICQudmFsaWRhdG9yLmZvcm1hdChcIlZldWlsbGV6IGZvdXJuaXIgdW5lIHZhbGV1ciBlbnRyZSB7MH0gZXQgezF9LlwiKSxcbiAgICAgICAgbWF4OiAkLnZhbGlkYXRvci5mb3JtYXQoXCJWZXVpbGxleiBmb3VybmlyIHVuZSB2YWxldXIgaW5mw6lyaWV1cmUgb3Ugw6lnYWxlIMOgIHswfS5cIiksXG4gICAgICAgIG1pbjogJC52YWxpZGF0b3IuZm9ybWF0KFwiVmV1aWxsZXogZm91cm5pciB1bmUgdmFsZXVyIHN1cMOpcmlldXJlIG91IMOpZ2FsZSDDoCB7MH0uXCIpLFxuICAgICAgICBzdGVwOiAkLnZhbGlkYXRvci5mb3JtYXQoXCJWZXVpbGxleiBmb3VybmlyIHVuZSB2YWxldXIgbXVsdGlwbGUgZGUgezB9LlwiKSxcbiAgICAgICAgbWF4V29yZHM6ICQudmFsaWRhdG9yLmZvcm1hdChcIlZldWlsbGV6IGZvdXJuaXIgYXUgcGx1cyB7MH0gbW90cy5cIiksXG4gICAgICAgIG1pbldvcmRzOiAkLnZhbGlkYXRvci5mb3JtYXQoXCJWZXVpbGxleiBmb3VybmlyIGF1IG1vaW5zIHswfSBtb3RzLlwiKSxcbiAgICAgICAgcmFuZ2VXb3JkczogJC52YWxpZGF0b3IuZm9ybWF0KFwiVmV1aWxsZXogZm91cm5pciBlbnRyZSB7MH0gZXQgezF9IG1vdHMuXCIpLFxuICAgICAgICBsZXR0ZXJzd2l0aGJhc2ljcHVuYzogXCJWZXVpbGxleiBmb3VybmlyIHNldWxlbWVudCBkZXMgbGV0dHJlcyBldCBkZXMgc2lnbmVzIGRlIHBvbmN0dWF0aW9uLlwiLFxuICAgICAgICBhbHBoYW51bWVyaWM6IFwiVmV1aWxsZXogZm91cm5pciBzZXVsZW1lbnQgZGVzIGxldHRyZXMsIG5vbWJyZXMsIGVzcGFjZXMgZXQgc291bGlnbmFnZXMuXCIsXG4gICAgICAgIGxldHRlcnNvbmx5OiBcIlZldWlsbGV6IGZvdXJuaXIgc2V1bGVtZW50IGRlcyBsZXR0cmVzLlwiLFxuICAgICAgICBub3doaXRlc3BhY2U6IFwiVmV1aWxsZXogbmUgcGFzIGluc2NyaXJlIGQnZXNwYWNlcyBibGFuY3MuXCIsXG4gICAgICAgIHppcHJhbmdlOiBcIlZldWlsbGV6IGZvdXJuaXIgdW4gY29kZSBwb3N0YWwgZW50cmUgOTAyeHgteHh4eCBldCA5MDUteHgteHh4eC5cIixcbiAgICAgICAgaW50ZWdlcjogXCJWZXVpbGxleiBmb3VybmlyIHVuIG5vbWJyZSBub24gZMOpY2ltYWwgcXVpIGVzdCBwb3NpdGlmIG91IG7DqWdhdGlmLlwiLFxuICAgICAgICB2aW5VUzogXCJWZXVpbGxleiBmb3VybmlyIHVuIG51bcOpcm8gZCdpZGVudGlmaWNhdGlvbiBkdSB2w6loaWN1bGUgKFZJTikuXCIsXG4gICAgICAgIGRhdGVJVEE6IFwiVmV1aWxsZXogZm91cm5pciB1bmUgZGF0ZSB2YWxpZGUuXCIsXG4gICAgICAgIHRpbWU6IFwiVmV1aWxsZXogZm91cm5pciB1bmUgaGV1cmUgdmFsaWRlIGVudHJlIDAwOjAwIGV0IDIzOjU5LlwiLFxuICAgICAgICBwaG9uZVVTOiBcIlZldWlsbGV6IGZvdXJuaXIgdW4gbnVtw6lybyBkZSB0w6lsw6lwaG9uZSB2YWxpZGUuXCIsXG4gICAgICAgIHBob25lVUs6IFwiVmV1aWxsZXogZm91cm5pciB1biBudW3DqXJvIGRlIHTDqWzDqXBob25lIHZhbGlkZS5cIixcbiAgICAgICAgbW9iaWxlVUs6IFwiVmV1aWxsZXogZm91cm5pciB1biBudW3DqXJvIGRlIHTDqWzDqXBob25lIG1vYmlsZSB2YWxpZGUuXCIsXG4gICAgICAgIHN0cmlwcGVkbWlubGVuZ3RoOiAkLnZhbGlkYXRvci5mb3JtYXQoXCJWZXVpbGxleiBmb3VybmlyIGF1IG1vaW5zIHswfSBjYXJhY3TDqHJlcy5cIiksXG4gICAgICAgIGVtYWlsMjogXCJWZXVpbGxleiBmb3VybmlyIHVuZSBhZHJlc3NlIMOpbGVjdHJvbmlxdWUgdmFsaWRlLlwiLFxuICAgICAgICB1cmwyOiBcIlZldWlsbGV6IGZvdXJuaXIgdW5lIGFkcmVzc2UgVVJMIHZhbGlkZS5cIixcbiAgICAgICAgY3JlZGl0Y2FyZHR5cGVzOiBcIlZldWlsbGV6IGZvdXJuaXIgdW4gbnVtw6lybyBkZSBjYXJ0ZSBkZSBjcsOpZGl0IHZhbGlkZS5cIixcbiAgICAgICAgaXB2NDogXCJWZXVpbGxleiBmb3VybmlyIHVuZSBhZHJlc3NlIElQIHY0IHZhbGlkZS5cIixcbiAgICAgICAgaXB2NjogXCJWZXVpbGxleiBmb3VybmlyIHVuZSBhZHJlc3NlIElQIHY2IHZhbGlkZS5cIixcbiAgICAgICAgcmVxdWlyZV9mcm9tX2dyb3VwOiBcIlZldWlsbGV6IGZvdXJuaXIgYXUgbW9pbnMgezB9IGRlIGNlcyBjaGFtcHMuXCIsXG4gICAgICAgIG5pZkVTOiBcIlZldWlsbGV6IGZvdXJuaXIgdW4gbnVtw6lybyBOSUYgdmFsaWRlLlwiLFxuICAgICAgICBuaWVFUzogXCJWZXVpbGxleiBmb3VybmlyIHVuIG51bcOpcm8gTklFIHZhbGlkZS5cIixcbiAgICAgICAgY2lmRVM6IFwiVmV1aWxsZXogZm91cm5pciB1biBudW3DqXJvIENJRiB2YWxpZGUuXCIsXG4gICAgICAgIHBvc3RhbENvZGVDQTogXCJWZXVpbGxleiBmb3VybmlyIHVuIGNvZGUgcG9zdGFsIHZhbGlkZS5cIixcbiAgICAgICAgcmVnZXg6IFwiQWRyZXNzZSBlbWFpbCBpbnZhbGlkZVwiLFxuICAgICAgfSk7XG5cblxuICAgICAgJC52YWxpZGF0b3IuYWRkTWV0aG9kKFwiY3VzdG9tZW1haWxcIiwgXG4gICAgICAgICAgZnVuY3Rpb24odmFsdWUsIGVsZW1lbnQpIHtcbiAgICAgICAgICAgIHJldHVybiAvXlxcdysoWy0rLiddXFx3KykqQFxcdysoWy0uXVxcdyspKlxcLlxcdysoWy0uXVxcdyspKiQvLnRlc3QodmFsdWUpO1xuICAgICAgICAgIH0sIFxuICAgICAgICAgIFwiVmV1aWxsZXogZm91cm5pciB1bmUgYWRyZXNzZSDDqWxlY3Ryb25pcXVlIHZhbGlkZS5cIlxuICAgICAgKTtcblxuICAgICAgXG4gICAgICBpZiAoJCgnI2Zvcm0tbmV3c2xldHRlcicpLmxlbmd0aCkge1xuICAgICAgICAkKCcjZm9ybS1uZXdzbGV0dGVyJykudmFsaWRhdGUoe1xuICAgICAgICAgIHJ1bGVzOiB7XG4gICAgICAgICAgICBcImVtYWlsXCI6IHtcbiAgICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgICAgICAgICdjdXN0b21lbWFpbCc6IHRydWVcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAnY2hlY2stbmV3c2xldHRlci1mb3JtJzogJ3JlcXVpcmVkJ1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBpZiAoJCgnI2Zvcm0tc2VhcmNoJykubGVuZ3RoKSB7XG4gICAgICAgICQoJyNmb3JtLXNlYXJjaCcpLnZhbGlkYXRlKHtcbiAgICAgICAgICBydWxlczoge1xuICAgICAgICAgICAgXCJzZWFyY2hcIjoge1xuICAgICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgbWlubGVuZ3RoOiAzXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cblxuXG5cbiAgICAgIGlmICgkKFwiI2V4cG9zaXRpb24tZm9ybVwiKS5sZW5ndGgpIHtcbiAgICAgICAgJChcIiNleHBvc2l0aW9uLWZvcm1cIikudmFsaWRhdGUoe1xuICAgICAgICAgIHJ1bGVzOiB7XG4gICAgICAgICAgICBcIm5vbVwiOiBcInJlcXVpcmVkXCIsXG4gICAgICAgICAgICBcImVtYWlsXCI6IHtcbiAgICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgICAgICAgICdjdXN0b21lbWFpbCc6IHRydWVcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBcInRlbFwiOiBcInJlcXVpcmVkXCIsXG4gICAgICAgICAgICBcImNoZWNrLWV4cG9zaXRpb24tZm9ybVwiOiAncmVxdWlyZWQnXG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgaWYgKCQoXCIjY29udGFjdC1mb3JtXCIpLmxlbmd0aCkge1xuICAgICAgICAkKFwiI2NvbnRhY3QtZm9ybVwiKS52YWxpZGF0ZSh7XG4gICAgICAgICAgcnVsZXM6IHtcbiAgICAgICAgICAgIFwiY2hvaXhcIjogXCJyZXF1aXJlZFwiLFxuICAgICAgICAgICAgXCJub21cIjogXCJyZXF1aXJlZFwiLFxuICAgICAgICAgICAgXCJlbWFpbFwiOiB7XG4gICAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICAgICAgICAnY3VzdG9tZW1haWwnOiB0cnVlXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgXCJ0ZWxcIjoge1xuICAgICAgICAgICAgICBudW1iZXI6IHRydWUsXG4gICAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgXCJub21FdGFibGlzc2VtZW50XCI6IFwicmVxdWlyZWRcIixcbiAgICAgICAgICAgIFwiYWRyZXNzZUV0YWJsaXNzZW1lbnRcIjogXCJyZXF1aXJlZFwiLFxuXG4gICAgICAgICAgICBcImNoZWNrLWNvbnRhY3QtZm9ybVwiOiAncmVxdWlyZWQnXG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgaWYgKCQoXCIjcGFydGVuYWlyZS1mb3JtXCIpLmxlbmd0aCkge1xuICAgICAgICAkKFwiI3BhcnRlbmFpcmUtZm9ybVwiKS52YWxpZGF0ZSh7XG4gICAgICAgICAgcnVsZXM6IHtcbiAgICAgICAgICAgIFwibm9tXCI6IFwicmVxdWlyZWRcIixcbiAgICAgICAgICAgIFwiZW1haWxcIjoge1xuICAgICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgJ2N1c3RvbWVtYWlsJzogdHJ1ZVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFwidGVsXCI6IHtcbiAgICAgICAgICAgICAgbnVtYmVyOiB0cnVlLFxuICAgICAgICAgICAgICByZXF1aXJlZDogdHJ1ZVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFwiY2hlY2stcGFydGVuYWlyZS1mb3JtXCI6ICdyZXF1aXJlZCdcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBpZiAoJChcIiNwcmF0aXF1ZS1jb250YWN0LWZvcm1cIikubGVuZ3RoKSB7XG4gICAgICAgICQoXCIjcHJhdGlxdWUtY29udGFjdC1mb3JtXCIpLnZhbGlkYXRlKHtcbiAgICAgICAgICBydWxlczoge1xuICAgICAgICAgICAgXCJjaG9peFwiOiBcInJlcXVpcmVkXCIsXG4gICAgICAgICAgICBcIm5vbVwiOiBcInJlcXVpcmVkXCIsXG4gICAgICAgICAgICBcImVtYWlsXCI6IHtcbiAgICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgICAgICAgICdjdXN0b21lbWFpbCc6IHRydWVcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBcInRlbFwiOiB7XG4gICAgICAgICAgICAgIG51bWJlcjogdHJ1ZSxcbiAgICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWVcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBcImNoZWNrLXByYXRpcXVlLWNvbnRhY3QtZm9ybVwiOiAncmVxdWlyZWQnXG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgaWYgKCQoXCIjcHJhdGlxdWUtc2Vqb3VyLWZvcm1cIikubGVuZ3RoKSB7XG4gICAgICAgICQoXCIjcHJhdGlxdWUtc2Vqb3VyLWZvcm1cIikudmFsaWRhdGUoe1xuICAgICAgICAgIHJ1bGVzOiB7XG4gICAgICAgICAgICBcIm5vbVwiOiBcInJlcXVpcmVkXCIsXG4gICAgICAgICAgICBcImVtYWlsXCI6IHtcbiAgICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgICAgICAgICdjdXN0b21lbWFpbCc6IHRydWVcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBcInRlbFwiOiB7XG4gICAgICAgICAgICAgIG51bWJlcjogdHJ1ZSxcbiAgICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWVcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBcImNoZWNrLXByYXRpcXVlLXNlam91ci1mb3JtXCI6ICdyZXF1aXJlZCdcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICBhcHAuaW5pdCgpO1xuXG5cbn0oalF1ZXJ5KSk7Il19
